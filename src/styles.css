/* ═══════════════════════════════════════════════════════════════════════════
   OH MY MD - DISTINCTIVE THEME SYSTEM
   5 radically different visual personalities for your writing
   ═══════════════════════════════════════════════════════════════════════════ */

/* ─────────────────────────────────────────────────────────────────────────────
   FONT IMPORTS
   Each theme has its own distinctive typography soul
   ───────────────────────────────────────────────────────────────────────────── */

/* EDITORIAL: Newsreader (modern serif optimized for screens) + Lora (elegant body) */
@import '@fontsource/newsreader/400.css';
@import '@fontsource/newsreader/400-italic.css';
@import '@fontsource/newsreader/500.css';
@import '@fontsource/newsreader/600.css';
@import '@fontsource/newsreader/700.css';
@import '@fontsource/lora/400.css';
@import '@fontsource/lora/400-italic.css';
@import '@fontsource/lora/500.css';
@import '@fontsource/lora/600.css';
@import '@fontsource/lora/700.css';

/* MINIMAL: Plus Jakarta Sans (geometric, balanced) */
@import '@fontsource/plus-jakarta-sans/400.css';
@import '@fontsource/plus-jakarta-sans/500.css';
@import '@fontsource/plus-jakarta-sans/600.css';
@import '@fontsource/plus-jakarta-sans/700.css';

/* COZY: Bitter (warm slab) + Caveat (handwritten) + Kalam (casual) */
@import '@fontsource/bitter/400.css';
@import '@fontsource/bitter/400-italic.css';
@import '@fontsource/bitter/600.css';
@import '@fontsource/bitter/700.css';
@import '@fontsource/caveat/400.css';
@import '@fontsource/caveat/600.css';
@import '@fontsource/caveat/700.css';
@import '@fontsource/kalam/400.css';

/* BOLD: Syne (experimental geometric) + Outfit (modern) + Archivo Black */
@import '@fontsource/syne/400.css';
@import '@fontsource/syne/600.css';
@import '@fontsource/syne/700.css';
@import '@fontsource/syne/800.css';
@import '@fontsource/outfit/400.css';
@import '@fontsource/outfit/500.css';
@import '@fontsource/outfit/600.css';
@import '@fontsource/archivo-black/400.css';

/* RETRO: VT323 (terminal) + Press Start 2P (pixel) + Space Mono */
@import '@fontsource/vt323/400.css';
@import '@fontsource/press-start-2p/400.css';
@import '@fontsource/space-mono/400.css';
@import '@fontsource/space-mono/400-italic.css';
@import '@fontsource/space-mono/700.css';

/* TOKYO: IBM Plex Sans (clean, modern Japanese-tech inspired) + IBM Plex Mono */
@import '@fontsource/ibm-plex-sans/400.css';
@import '@fontsource/ibm-plex-sans/400-italic.css';
@import '@fontsource/ibm-plex-sans/500.css';
@import '@fontsource/ibm-plex-sans/600.css';
@import '@fontsource/ibm-plex-sans/700.css';
@import '@fontsource/ibm-plex-mono/400.css';
@import '@fontsource/ibm-plex-mono/500.css';
@import '@fontsource/ibm-plex-mono/600.css';

/* Shared code fonts */
@import '@fontsource/jetbrains-mono/400.css';
@import '@fontsource/jetbrains-mono/600.css';
@import '@fontsource/fira-code/400.css';
@import '@fontsource/fira-code/600.css';

@import 'tailwindcss';
@plugin "tailwindcss-animate";
@custom-variant dark (&:is(.dark *));

/* ═══════════════════════════════════════════════════════════════════════════
   THEME: EDITORIAL
   ═══════════════════════════════════════════════════════════════════════════
   
   AESTHETIC: The Perfect Reading Experience
   - Beautiful, confident serif typography
   - Strong hierarchy without decoration
   - Pure focus on the words
   - Ink-black text on perfect paper
   - The theme you'd choose for your favorite book
   ═══════════════════════════════════════════════════════════════════════════ */

:root.theme-editorial {
  /* Newsreader for headings, Lora for body - both modern, highly readable serifs */
  --font-display: 'Newsreader', Georgia, serif;
  --font-body: 'Lora', Georgia, serif;
  --font-ui: 'Lora', Georgia, serif;
  --font-mono: 'JetBrains Mono', monospace;

  /* True paper white - clean, not yellow */
  --th-bg: #fcfcfa;
  --th-bg-subtle: #f5f5f2;
  --th-bg-elevated: #ffffff;

  /* Rich, deep ink black */
  --th-fg: #1c1c1a;
  --th-fg-muted: #4a4a45;
  --th-fg-subtle: #7a7a72;

  /* Deep blue-black accent - confident, not flashy */
  --th-accent: #1a3a5c;
  --th-accent-secondary: #2d5a87;
  --th-accent-subtle: rgba(26, 58, 92, 0.08);
  --th-accent-glow: rgba(26, 58, 92, 0.12);

  /* Warm secondary for variety */
  --th-warm: #9a4a25;
  --th-muted-accent: #5a6a7a;

  --th-border: #e5e5e0;
  --th-border-subtle: #efefea;

  --th-dropcap: #1a3a5c;
  --th-pullquote: #4a4a45;
  --th-ornament: #1a3a5c;
  --th-rule: #d5d5d0;

  /* Optimal reading dimensions */
  --th-prose-width: 40rem;
  --th-line-height: 1.75;
  --th-paragraph-spacing: 1.5em;
  --th-letter-spacing: 0;

  /* Sharp, clean edges */
  --th-radius: 3px;
  --th-radius-lg: 5px;
}

:root.theme-editorial.dark {
  /* Deep, rich charcoal - not pure black */
  --th-bg: #161618;
  --th-bg-subtle: #1e1e22;
  --th-bg-elevated: #26262a;

  /* Warm off-white - easy on eyes */
  --th-fg: #e8e8e6;
  --th-fg-muted: #a5a5a0;
  --th-fg-subtle: #6a6a65;

  /* Softer blue accent for dark mode */
  --th-accent: #7aa2c7;
  --th-accent-secondary: #5a8ab7;
  --th-accent-subtle: rgba(122, 162, 199, 0.1);
  --th-accent-glow: rgba(122, 162, 199, 0.15);

  --th-warm: #d4a078;
  --th-muted-accent: #8a9aaa;

  --th-border: #35353a;
  --th-border-subtle: #28282c;
  --th-dropcap: #7aa2c7;
  --th-pullquote: #a5a5a0;
  --th-ornament: #7aa2c7;
  --th-rule: #35353a;
}

/* ═══════════════════════════════════════════════════════════════════════════
   THEME: MINIMAL
   ═══════════════════════════════════════════════════════════════════════════
   
   AESTHETIC: Refined monochrome for focused reading
   - Beautiful grayscale palette with careful contrast
   - Clean, highly legible typography
   - Generous whitespace for breathing room
   - Subtle borders and dividers
   - Refined, not brutal
   ═══════════════════════════════════════════════════════════════════════════ */

:root.theme-minimal {
  --font-display: 'Plus Jakarta Sans', -apple-system, system-ui, sans-serif;
  --font-body: 'Plus Jakarta Sans', -apple-system, system-ui, sans-serif;
  --font-ui: 'Plus Jakarta Sans', -apple-system, system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', monospace;

  /* Soft white, not harsh */
  --th-bg: #fafafa;
  --th-bg-subtle: #f4f4f4;
  --th-bg-elevated: #ffffff;

  /* Rich black for text, proper contrast */
  --th-fg: #171717;
  --th-fg-muted: #525252;
  --th-fg-subtle: #a3a3a3;
  --th-fg-bold: #000000;

  /* Monochrome accent - dark gray */
  --th-accent: #404040;
  --th-accent-subtle: #e5e5e5;
  --th-accent-glow: transparent;

  --th-border: #e5e5e5;
  --th-border-subtle: #f0f0f0;

  --th-dropcap: #171717;
  --th-pullquote: #525252;
  --th-ornament: #d4d4d4;
  --th-rule: #e5e5e5;

  /* Comfortable reading rhythm */
  --th-prose-width: 38rem;
  --th-line-height: 1.7;
  --th-paragraph-spacing: 1.5em;
  --th-letter-spacing: -0.011em;

  /* Subtle softness */
  --th-radius: 0.25rem;
  --th-radius-lg: 0.375rem;
}

:root.theme-minimal.dark {
  /* Deep charcoal, not pure black */
  --th-bg: #0a0a0a;
  --th-bg-subtle: #141414;
  --th-bg-elevated: #1a1a1a;

  /* Off-white for less eye strain */
  --th-fg: #ededed;
  --th-fg-muted: #a3a3a3;
  --th-fg-subtle: #525252;
  --th-fg-bold: #ffffff;

  --th-accent: #d4d4d4;
  --th-accent-subtle: #262626;
  --th-border: #262626;
  --th-border-subtle: #1a1a1a;
  --th-dropcap: #ededed;
  --th-pullquote: #a3a3a3;
  --th-ornament: #404040;
  --th-rule: #262626;
}

/* ═══════════════════════════════════════════════════════════════════════════
   THEME: COZY
   ═══════════════════════════════════════════════════════════════════════════
   
   AESTHETIC: Fireside Reading
   - Warm amber lighting, like reading by a fireplace
   - Deep browns and soft creams
   - Comfortable serif typography
   - Intimate and enveloping atmosphere
   - Designed for long evening reading sessions
   ═══════════════════════════════════════════════════════════════════════════ */

:root.theme-cozy {
  --font-display: 'Bitter', Georgia, serif;
  --font-body: 'Bitter', Georgia, serif;
  --font-ui: 'Bitter', Georgia, serif;
  --font-mono: 'Fira Code', monospace;

  /* Warm parchment - like pages lit by firelight */
  --th-bg: #faf6f0;
  --th-bg-subtle: #f4ede3;
  --th-bg-elevated: #fffdf9;
  --th-fg: #3a3028;
  --th-fg-muted: #5c4f42;
  --th-fg-subtle: #8c7b6a;

  /* Warm ember/copper accent */
  --th-accent: #b45930;
  --th-accent-secondary: #8b4513;
  --th-accent-subtle: rgba(180, 89, 48, 0.1);
  --th-accent-glow: rgba(180, 89, 48, 0.15);

  /* Warm color palette */
  --th-amber: #c77a30;
  --th-rust: #a04520;
  --th-gold: #a08040;
  --th-sage: #6b7c5a;

  --th-border: #e0d5c8;
  --th-border-subtle: #ebe3d8;

  --th-dropcap: #b45930;
  --th-pullquote: #5c4f42;
  --th-ornament: #a08040;
  --th-rule: linear-gradient(
    90deg,
    transparent 0%,
    #d0c4b0 20%,
    #d0c4b0 80%,
    transparent 100%
  );

  /* Comfortable reading dimensions */
  --th-prose-width: 40rem;
  --th-line-height: 1.85;
  --th-paragraph-spacing: 1.5em;
  --th-letter-spacing: 0.01em;

  /* Soft, rounded */
  --th-radius: 0.375rem;
  --th-radius-lg: 0.625rem;
}

:root.theme-cozy.dark {
  /* Deep warm brown - like a dim room lit by fire */
  --th-bg: #1a1512;
  --th-bg-subtle: #231e19;
  --th-bg-elevated: #2a2420;
  --th-fg: #e8e0d4;
  --th-fg-muted: #c4b8a8;
  --th-fg-subtle: #8a7d6d;

  /* Warmer, brighter accent for dark mode */
  --th-accent: #e09050;
  --th-accent-secondary: #c07038;
  --th-accent-subtle: rgba(224, 144, 80, 0.12);
  --th-accent-glow: rgba(224, 144, 80, 0.2);

  --th-amber: #e0a050;
  --th-rust: #c87048;
  --th-gold: #c0a060;
  --th-sage: #8a9a78;

  --th-border: #3a322a;
  --th-border-subtle: #2a241e;
  --th-dropcap: #e09050;
  --th-pullquote: #c4b8a8;
  --th-ornament: #c0a060;
  --th-rule: linear-gradient(
    90deg,
    transparent 0%,
    #4a4030 20%,
    #4a4030 80%,
    transparent 100%
  );
}

/* ═══════════════════════════════════════════════════════════════════════════
   THEME: BOLD
   ═══════════════════════════════════════════════════════════════════════════
   
   AESTHETIC: Readable Maximalism
   - Vibrant, colorful palette that's still easy on the eyes
   - Strong typographic hierarchy for paper reading
   - Selective use of glows and gradients for emphasis
   - Comfortable reading with bold personality
   - Designed for extended reading sessions
   ═══════════════════════════════════════════════════════════════════════════ */

:root.theme-bold {
  --font-display: 'Syne', 'Archivo Black', Impact, sans-serif;
  --font-body: 'Outfit', sans-serif;
  --font-ui: 'Outfit', sans-serif;
  --font-mono: 'JetBrains Mono', monospace;
  --font-experimental: 'Syne', sans-serif;

  /* Rich indigo base - softer than pure black */
  --th-bg: #12101a;
  --th-bg-subtle: #1a1725;
  --th-bg-elevated: #221f2e;
  --th-fg: #eeedf2;
  --th-fg-muted: #a8a3b8;
  --th-fg-subtle: #6b6580;

  /* Vibrant but readable accent palette */
  --th-accent: #a78bfa;
  --th-accent-secondary: #f472b6;
  --th-accent-subtle: rgba(167, 139, 250, 0.12);
  --th-accent-glow: rgba(167, 139, 250, 0.2);

  /* Additional colors for variety */
  --th-cyan: #67e8f9;
  --th-pink: #f472b6;
  --th-orange: #fb923c;
  --th-green: #4ade80;

  --th-border: #2e2a3d;
  --th-border-subtle: #23202e;

  --th-dropcap: linear-gradient(135deg, #a78bfa 0%, #f472b6 100%);
  --th-pullquote: #a8a3b8;
  --th-ornament: #a78bfa;
  --th-rule: linear-gradient(90deg, #a78bfa, #f472b6, #67e8f9);

  /* Subtle gradient mesh - atmospheric, not distracting */
  --th-gradient-mesh:
    radial-gradient(
      ellipse at 0% 100%,
      rgba(167, 139, 250, 0.08) 0%,
      transparent 50%
    ),
    radial-gradient(
      ellipse at 100% 0%,
      rgba(244, 114, 182, 0.06) 0%,
      transparent 50%
    );

  /* Comfortable reading dimensions */
  --th-prose-width: 42rem;
  --th-line-height: 1.75;
  --th-paragraph-spacing: 1.6em;
  --th-letter-spacing: 0;

  /* Softened corners */
  --th-radius: 0.375rem;
  --th-radius-lg: 0.75rem;
}

:root.theme-bold.dark {
  /* Dark mode is the default - these are the same */
}

/* Light mode for Bold - vibrant but readable */
:root.theme-bold:not(.dark) {
  --th-bg: #faf8ff;
  --th-bg-subtle: #f3f0fa;
  --th-bg-elevated: #ffffff;
  --th-fg: #1e1b2e;
  --th-fg-muted: #5c5672;
  --th-fg-subtle: #8a839e;
  --th-accent: #7c3aed;
  --th-accent-secondary: #db2777;
  --th-accent-subtle: rgba(124, 58, 237, 0.1);
  --th-accent-glow: rgba(124, 58, 237, 0.15);
  --th-cyan: #0891b2;
  --th-pink: #db2777;
  --th-orange: #ea580c;
  --th-green: #16a34a;
  --th-border: #e4e0f0;
  --th-border-subtle: #f0ecf8;
  --th-gradient-mesh:
    radial-gradient(
      ellipse at 0% 100%,
      rgba(124, 58, 237, 0.05) 0%,
      transparent 50%
    ),
    radial-gradient(
      ellipse at 100% 0%,
      rgba(219, 39, 119, 0.04) 0%,
      transparent 50%
    );
}

/* ═══════════════════════════════════════════════════════════════════════════
   THEME: RETRO
   ═══════════════════════════════════════════════════════════════════════════
   
   AESTHETIC: Academic Computing Lab circa 1995
   - Warm, readable phosphor-inspired palette
   - Space Mono for UI, proportional body text for comfortable reading
   - Subtle CRT warmth without harsh scanlines
   - Nostalgic terminal accents that don't impede reading
   - Designed for extended paper reading sessions
   ═══════════════════════════════════════════════════════════════════════════ */

:root.theme-retro {
  /* Readable fonts: Space Mono for headers/UI, Bitter for body (warm slab) */
  --font-display: 'Space Mono', 'VT323', monospace;
  --font-body: 'Bitter', Georgia, serif;
  --font-ui: 'Space Mono', monospace;
  --font-mono: 'VT323', 'Space Mono', monospace;

  /* Deep green-tinted background like a phosphor monitor */
  --th-bg: #0f1610;
  --th-bg-subtle: #151d16;
  --th-bg-elevated: #1a231b;
  --th-fg: #d4e8d4;
  --th-fg-muted: #a8c4a8;
  --th-fg-subtle: #6b8a6b;

  /* Soft green accent - readable but nostalgic */
  --th-accent: #7ecf7e;
  --th-accent-secondary: #5ab85a;
  --th-accent-subtle: rgba(126, 207, 126, 0.12);
  --th-accent-glow: rgba(126, 207, 126, 0.2);

  /* Additional accent colors for variety */
  --th-cyan: #6ecfcf;
  --th-yellow: #cfcf6e;
  --th-amber: #cfaa6e;
  --th-pink: #cf8eaf;

  --th-border: #2a3d2c;
  --th-border-subtle: #1e2d20;

  --th-dropcap: #7ecf7e;
  --th-pullquote: #a8c4a8;
  --th-ornament: #7ecf7e;
  --th-rule: linear-gradient(
    90deg,
    transparent 0%,
    #3a5a3c 20%,
    #3a5a3c 80%,
    transparent 100%
  );

  /* Very subtle green warmth effect */
  --th-scanlines: linear-gradient(
    0deg,
    transparent 0%,
    rgba(126, 207, 126, 0.015) 50%,
    transparent 100%
  );

  /* Subtle green glow */
  --th-crt-glow: 0 0 40px rgba(126, 207, 126, 0.08);

  /* Comfortable reading dimensions */
  --th-prose-width: 42rem;
  --th-line-height: 1.8;
  --th-paragraph-spacing: 1.6em;
  --th-letter-spacing: 0.01em;

  /* Slightly softened edges */
  --th-radius: 2px;
  --th-radius-lg: 4px;
}

/* Light mode: Soft green-tinted paper */
:root.theme-retro:not(.dark) {
  --th-bg: #f0f5f0;
  --th-bg-subtle: #e4ece4;
  --th-bg-elevated: #f8fbf8;
  --th-fg: #2a352a;
  --th-fg-muted: #445544;
  --th-fg-subtle: #6b7a6b;
  --th-accent: #2d8a2d;
  --th-accent-secondary: #1f6b1f;
  --th-accent-subtle: rgba(45, 138, 45, 0.1);
  --th-accent-glow: rgba(45, 138, 45, 0.15);

  /* Light mode accent colors */
  --th-cyan: #1a7a7a;
  --th-yellow: #7a7a1a;
  --th-amber: #8a6a1a;
  --th-pink: #8a4a6a;

  --th-border: #c8d8c8;
  --th-border-subtle: #dbe8db;
  --th-dropcap: #2d8a2d;
  --th-pullquote: #445544;
  --th-ornament: #2d8a2d;
  --th-rule: linear-gradient(
    90deg,
    transparent 0%,
    #b8c8b8 20%,
    #b8c8b8 80%,
    transparent 100%
  );
  --th-scanlines: none;
  --th-crt-glow: none;
}

:root.theme-retro.dark {
  /* Dark amber is the default dark mode */
}

/* ═══════════════════════════════════════════════════════════════════════════
   THEME: TOKYO
   ═══════════════════════════════════════════════════════════════════════════
   
   AESTHETIC: Tokyo Night - Neovim's beloved color scheme
   - Deep storm blue backgrounds with soft contrast
   - Vibrant yet harmonious accent colors
   - Clean, modern Japanese-tech inspired typography
   - Subtle neon glow effects reminiscent of Tokyo nightlife
   - Designed for developers who love their editor theme
   ═══════════════════════════════════════════════════════════════════════════ */

:root.theme-tokyo {
  /* IBM Plex - clean, modern, tech-forward */
  --font-display: 'IBM Plex Sans', -apple-system, system-ui, sans-serif;
  --font-body: 'IBM Plex Sans', -apple-system, system-ui, sans-serif;
  --font-ui: 'IBM Plex Sans', -apple-system, system-ui, sans-serif;
  --font-mono: 'IBM Plex Mono', 'JetBrains Mono', monospace;

  /* Tokyo Night Storm - the signature deep blue */
  --th-bg: #24283b;
  --th-bg-subtle: #1f2335;
  --th-bg-elevated: #292e42;

  /* Soft foreground colors */
  --th-fg: #c0caf5;
  --th-fg-muted: #a9b1d6;
  --th-fg-subtle: #565f89;

  /* Signature Tokyo Night colors */
  --th-accent: #7aa2f7; /* Blue - primary */
  --th-accent-secondary: #bb9af7; /* Purple/Magenta */
  --th-accent-subtle: rgba(122, 162, 247, 0.12);
  --th-accent-glow: rgba(122, 162, 247, 0.25);

  /* Extended palette from tokyonight */
  --th-cyan: #7dcfff;
  --th-green: #9ece6a;
  --th-orange: #ff9e64;
  --th-red: #f7768e;
  --th-magenta: #bb9af7;
  --th-yellow: #e0af68;
  --th-teal: #73daca;

  --th-border: #3b4261;
  --th-border-subtle: #2f334d;

  --th-dropcap: #7aa2f7;
  --th-pullquote: #a9b1d6;
  --th-ornament: #7dcfff;
  --th-rule: linear-gradient(
    90deg,
    transparent 0%,
    #3b4261 15%,
    #7aa2f7 50%,
    #3b4261 85%,
    transparent 100%
  );

  /* Subtle ambient glow - like neon reflecting off wet streets */
  --th-gradient-mesh:
    radial-gradient(
      ellipse at 20% 80%,
      rgba(122, 162, 247, 0.06) 0%,
      transparent 50%
    ),
    radial-gradient(
      ellipse at 80% 20%,
      rgba(187, 154, 247, 0.05) 0%,
      transparent 50%
    );

  /* Comfortable reading dimensions */
  --th-prose-width: 42rem;
  --th-line-height: 1.75;
  --th-paragraph-spacing: 1.5em;
  --th-letter-spacing: 0;

  /* Soft, modern corners */
  --th-radius: 0.375rem;
  --th-radius-lg: 0.625rem;
}

/* Tokyo Night is ALWAYS dark - it ignores the light/dark color mode toggle.
   This is intentional: Tokyo Night is a dark theme by identity. */
:root.theme-tokyo.dark,
:root.theme-tokyo:not(.dark) {
  /* All variables already defined in base :root.theme-tokyo above */
}

/* ═══════════════════════════════════════════════════════════════════════════
   BASE STYLES
   ═══════════════════════════════════════════════════════════════════════════ */

:root {
  /* Default to Editorial */
  --font-display: 'Instrument Serif', Georgia, serif;
  --font-body: 'Cormorant Garamond', Georgia, serif;
  --font-ui: 'Cormorant Garamond', Georgia, serif;
  --font-mono: 'JetBrains Mono', monospace;

  --th-bg: #fdfbf7;
  --th-bg-subtle: #f8f4eb;
  --th-bg-elevated: #ffffff;
  --th-fg: #1a1814;
  --th-fg-muted: #5c574e;
  --th-fg-subtle: #8a8478;
  --th-accent: #8b2635;
  --th-accent-subtle: #f5e6e8;
  --th-accent-glow: rgba(139, 38, 53, 0.15);
  --th-border: #e8e4db;
  --th-border-subtle: #f2efe8;
  --th-dropcap: #8b2635;
  --th-pullquote: #8b2635;
  --th-ornament: #c9a96e;
  --th-rule: linear-gradient(
    90deg,
    transparent 0%,
    #c9a96e 15%,
    #c9a96e 85%,
    transparent 100%
  );
  --th-prose-width: 42rem;
  --th-line-height: 1.85;
  --th-paragraph-spacing: 1.75em;
  --th-radius: 0;
  --th-radius-lg: 0;

  /* Tailwind integration */
  --background: var(--th-bg);
  --foreground: var(--th-fg);
  --card: var(--th-bg-elevated);
  --card-foreground: var(--th-fg);
  --popover: var(--th-bg-elevated);
  --popover-foreground: var(--th-fg);
  --primary: var(--th-accent);
  --primary-foreground: var(--th-bg);
  --secondary: var(--th-bg-subtle);
  --secondary-foreground: var(--th-fg);
  --muted: var(--th-bg-subtle);
  --muted-foreground: var(--th-fg-muted);
  --accent: var(--th-bg-subtle);
  --accent-foreground: var(--th-fg);
  --destructive: #dc2626;
  --destructive-foreground: #fef2f2;
  --border: var(--th-border);
  --input: var(--th-border);
  --ring: var(--th-accent);
  --radius: var(--th-radius);
}

body {
  margin: 0;
  font-family: var(--font-ui);
  background-color: var(--th-bg);
  color: var(--th-fg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition:
    background-color 0.4s ease,
    color 0.4s ease;
}

/* Theme-specific body backgrounds */
.theme-bold body {
  background: var(--th-bg);
  background-image: var(--th-gradient-mesh);
  min-height: 100vh;
}

.theme-retro body {
  background: var(--th-bg);
  position: relative;
}

/* Subtle green ambient glow instead of harsh scanlines */
.theme-retro body::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(
    ellipse at 50% 0%,
    rgba(126, 207, 126, 0.025) 0%,
    transparent 60%
  );
  z-index: 0;
}

.theme-retro body::after {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: var(--th-scanlines);
  z-index: 9999;
}

.theme-cozy body {
  position: relative;
}

.theme-tokyo body {
  background: var(--th-bg);
  background-image: var(--th-gradient-mesh);
  min-height: 100vh;
}

/* Warm ambient glow - like firelight */
.theme-cozy.dark body::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(
    ellipse at 50% 100%,
    rgba(224, 144, 80, 0.04) 0%,
    transparent 60%
  );
  z-index: 0;
}

code {
  font-family: var(--font-mono);
}

/* ═══════════════════════════════════════════════════════════════════════════
   TEXT SELECTION STYLES
   Ensure readable text when selected across all themes
   ═══════════════════════════════════════════════════════════════════════════ */

/* Editorial - deep blue selection */
.theme-editorial ::selection {
  background: rgba(26, 58, 92, 0.9);
  color: #ffffff;
}
.theme-editorial.dark ::selection {
  background: rgba(122, 162, 199, 0.9);
  color: #161618;
}

/* Minimal - clean gray selection */
.theme-minimal ::selection {
  background: rgba(23, 23, 23, 0.85);
  color: #ffffff;
}
.theme-minimal.dark ::selection {
  background: rgba(237, 237, 237, 0.9);
  color: #0a0a0a;
}

/* Cozy - warm amber selection */
.theme-cozy ::selection {
  background: rgba(180, 89, 48, 0.85);
  color: #ffffff;
}
.theme-cozy.dark ::selection {
  background: rgba(224, 144, 80, 0.9);
  color: #1a1512;
}

/* Bold - vibrant purple selection */
.theme-bold ::selection {
  background: rgba(167, 139, 250, 0.9);
  color: #12101a;
}
.theme-bold:not(.dark) ::selection {
  background: rgba(124, 58, 237, 0.9);
  color: #ffffff;
}

/* Retro - phosphor green selection */
.theme-retro ::selection {
  background: rgba(126, 207, 126, 0.9);
  color: #0f1610;
}
.theme-retro:not(.dark) ::selection {
  background: rgba(45, 138, 45, 0.9);
  color: #ffffff;
}

/* Tokyo - signature blue selection */
.theme-tokyo ::selection,
.theme-tokyo.dark ::selection,
.theme-tokyo:not(.dark) ::selection {
  background: rgba(122, 162, 247, 0.9);
  color: #1f2335;
}

/* ═══════════════════════════════════════════════════════════════════════════
   TAILWIND THEME BRIDGE
   ═══════════════════════════════════════════════════════════════════════════ */

@theme inline {
  --color-background: var(--th-bg);
  --color-foreground: var(--th-fg);
  --color-card: var(--th-bg-elevated);
  --color-card-foreground: var(--th-fg);
  --color-popover: var(--th-bg-elevated);
  --color-popover-foreground: var(--th-fg);
  --color-primary: var(--th-accent);
  --color-primary-foreground: var(--th-bg);
  --color-secondary: var(--th-bg-subtle);
  --color-secondary-foreground: var(--th-fg);
  --color-muted: var(--th-bg-subtle);
  --color-muted-foreground: var(--th-fg-muted);
  --color-accent: var(--th-bg-subtle);
  --color-accent-foreground: var(--th-fg);
  --color-destructive: #dc2626;
  --color-destructive-foreground: #fef2f2;
  --color-border: var(--th-border);
  --color-input: var(--th-border);
  --color-ring: var(--th-accent);
  --radius-sm: calc(var(--th-radius) - 2px);
  --radius-md: var(--th-radius);
  --radius-lg: var(--th-radius-lg);
  --radius-xl: calc(var(--th-radius-lg) + 4px);
}

@layer base {
  * {
    @apply border-border;
  }
  a,
  button {
    touch-action: manipulation;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   MARKDOWN PREVIEW - BASE
   ═══════════════════════════════════════════════════════════════════════════ */

@layer components {
  .markdown {
    font-family: var(--font-body);
    color: var(--th-fg);
    font-size: 1.125rem;
    line-height: var(--th-line-height);
    overflow-wrap: anywhere;
    max-width: var(--th-prose-width);
    letter-spacing: var(--th-letter-spacing, 0);
  }

  /* ─────────────────────────────────────────────────────────────────────────
     HEADINGS
     ───────────────────────────────────────────────────────────────────────── */

  .markdown h1,
  .markdown h2,
  .markdown h3,
  .markdown h4 {
    font-family: var(--font-display);
    font-weight: 700;
    color: var(--th-fg);
    line-height: 1.2;
    text-wrap: balance;
    margin-top: 2.5em;
    margin-bottom: 0.75em;
  }

  .markdown h1 {
    font-size: 2.75rem;
    margin-top: 0;
    margin-bottom: 1.5rem;
    letter-spacing: -0.02em;
  }

  .markdown h2 {
    font-size: 2rem;
    letter-spacing: -0.01em;
  }

  .markdown h3 {
    font-size: 1.5rem;
  }

  .markdown h4 {
    font-size: 1.25rem;
    font-weight: 600;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     PARAGRAPHS & INLINE ELEMENTS
     ───────────────────────────────────────────────────────────────────────── */

  .markdown p {
    margin: 0 0 var(--th-paragraph-spacing);
  }

  .markdown strong {
    font-weight: 700;
    color: var(--th-fg);
  }

  .markdown em {
    font-style: italic;
  }

  .markdown a {
    color: var(--th-accent);
    text-decoration: underline;
    text-decoration-color: var(--th-accent-subtle);
    text-underline-offset: 3px;
    transition: all 0.2s ease;
  }

  .markdown a:hover {
    text-decoration-color: var(--th-accent);
  }

  /* ─────────────────────────────────────────────────────────────────────────
     LISTS
     ───────────────────────────────────────────────────────────────────────── */

  .markdown ul {
    list-style-type: disc;
    margin: 0 0 var(--th-paragraph-spacing);
    padding-left: 1.75rem;
  }

  .markdown ol {
    list-style-type: decimal;
    margin: 0 0 var(--th-paragraph-spacing);
    padding-left: 1.75rem;
  }

  .markdown li {
    margin-bottom: 0.5rem;
    display: list-item;
  }

  .markdown li::marker {
    color: var(--th-fg-subtle);
  }

  .markdown input[type='checkbox'] {
    margin-right: 0.5rem;
    accent-color: var(--th-accent);
  }

  /* ─────────────────────────────────────────────────────────────────────────
     BLOCKQUOTES
     ───────────────────────────────────────────────────────────────────────── */

  .markdown blockquote {
    margin: 2rem 0;
    padding: 1.5rem 2rem;
    border-left: 4px solid var(--th-accent);
    background: var(--th-bg-subtle);
    color: var(--th-fg-muted);
    border-radius: 0 var(--th-radius-lg) var(--th-radius-lg) 0;
    font-style: italic;
  }

  .markdown blockquote p:last-child {
    margin-bottom: 0;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     HORIZONTAL RULES
     ───────────────────────────────────────────────────────────────────────── */

  .markdown hr {
    border: none;
    height: 2px;
    background: var(--th-rule);
    margin: 3rem 0;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     INLINE CODE
     ───────────────────────────────────────────────────────────────────────── */

  .markdown code {
    font-family: var(--font-mono);
    font-size: 0.875em;
  }

  .markdown :not(pre) > code {
    background: var(--th-accent-subtle);
    color: var(--th-accent);
    padding: 0.2rem 0.5rem;
    border-radius: var(--th-radius);
    font-weight: 500;
    font-size: 0.85em;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     TABLES
     ───────────────────────────────────────────────────────────────────────── */

  .markdown table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    margin: 2rem 0;
    font-size: 0.9375rem;
    border-radius: var(--th-radius-lg);
    overflow: hidden;
    border: 1px solid var(--th-border);
  }

  .markdown th,
  .markdown td {
    border-bottom: 1px solid var(--th-border);
    border-right: 1px solid var(--th-border);
    padding: 1rem 1.25rem;
    text-align: left;
  }

  .markdown th:last-child,
  .markdown td:last-child {
    border-right: none;
  }

  .markdown tr:last-child td {
    border-bottom: none;
  }

  .markdown th {
    background: var(--th-bg-subtle);
    font-weight: 600;
    font-family: var(--font-ui);
    color: var(--th-fg);
    text-transform: uppercase;
    font-size: 0.75rem;
    letter-spacing: 0.08em;
  }

  .markdown td {
    background: var(--th-bg-elevated);
    font-variant-numeric: tabular-nums;
  }

  .markdown tbody tr {
    transition: background-color 0.15s ease;
  }

  .markdown tbody tr:hover td {
    background: var(--th-bg-subtle);
  }

  /* ─────────────────────────────────────────────────────────────────────────
     IMAGES
     ───────────────────────────────────────────────────────────────────────── */

  .markdown img {
    max-width: 100%;
    height: auto;
    border-radius: var(--th-radius-lg);
    margin: 2rem 0;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
  }

  .markdown .md-image {
    position: relative;
    display: inline-block;
    max-width: 100%;
    margin: 2rem 0;
  }

  .markdown .md-image img {
    display: block;
    max-width: 100%;
    margin: 0;
  }

  .markdown .md-image-toggle {
    position: absolute;
    top: 0.75rem;
    right: 0.75rem;
    border-radius: 999px;
    border: 1px solid var(--th-border);
    background: var(--th-bg-elevated);
    color: var(--th-fg);
    font-family: var(--font-ui);
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    padding: 0.3rem 0.55rem;
    cursor: pointer;
    opacity: 0.85;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    transition:
      opacity 0.2s ease,
      transform 0.2s ease,
      background-color 0.2s ease,
      color 0.2s ease,
      border-color 0.2s ease,
      box-shadow 0.2s ease;
  }

  .markdown .md-image:hover .md-image-toggle,
  .markdown .md-image-toggle:focus-visible {
    opacity: 1;
    transform: translateY(-1px);
    box-shadow: 0 10px 26px rgba(0, 0, 0, 0.25);
  }

  .markdown .md-image.is-inverted img {
    filter: invert(1);
  }

  .markdown .md-image.is-inverted .md-image-toggle {
    background: var(--th-accent);
    color: var(--th-bg);
    border-color: transparent;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     OTHER ELEMENTS
     ───────────────────────────────────────────────────────────────────────── */

  .markdown del {
    color: var(--th-fg-subtle);
    text-decoration-color: var(--destructive);
  }

  .markdown mark {
    background: var(--th-accent-subtle);
    color: var(--th-fg);
    padding: 0.1rem 0.3rem;
    border-radius: var(--th-radius);
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   THEME-SPECIFIC MARKDOWN STYLES
   ═══════════════════════════════════════════════════════════════════════════ */

/* ─────────────────────────────────────────────────────────────────────────────
   EDITORIAL: The perfect reading experience
   ───────────────────────────────────────────────────────────────────────────── */

.theme-editorial .markdown {
  font-size: 1.125rem;
}

/* Bold, confident title */
.theme-editorial .markdown h1 {
  font-family: var(--font-display);
  font-size: 2.25rem;
  font-weight: 500;
  letter-spacing: -0.015em;
  line-height: 1.25;
  color: var(--th-fg);
  margin-bottom: 1.5rem;
}

/* Strong section headers */
.theme-editorial .markdown h2 {
  font-family: var(--font-display);
  font-size: 1.5rem;
  font-weight: 500;
  letter-spacing: -0.01em;
  color: var(--th-accent);
  margin-top: 2.5rem;
  margin-bottom: 0.75rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--th-border);
}

/* Subsection with warmth */
.theme-editorial .markdown h3 {
  font-family: var(--font-display);
  font-size: 1.25rem;
  font-weight: 500;
  color: var(--th-warm);
  margin-top: 2rem;
}

.theme-editorial .markdown h4 {
  font-family: var(--font-body);
  font-size: 1.0625rem;
  font-weight: 600;
  color: var(--th-fg-muted);
}

/* Bold stands out clearly */
.theme-editorial .markdown strong {
  font-weight: 600;
  color: var(--th-fg);
}

/* Italic with subtle warmth */
.theme-editorial .markdown em {
  font-style: italic;
}

/* Clean, elegant blockquote */
.theme-editorial .markdown blockquote {
  background: var(--th-bg-subtle);
  border-left: 3px solid var(--th-accent);
  border-radius: var(--th-radius-lg);
  padding: 1.25rem 1.5rem;
  margin: 1.75rem 0;
  font-style: italic;
  color: var(--th-fg-muted);
}

.theme-editorial .markdown blockquote::before {
  content: none;
}

.theme-editorial .markdown blockquote p:last-child {
  margin-bottom: 0;
}

/* Simple, elegant rule */
.theme-editorial .markdown hr {
  height: 1px;
  background: var(--th-rule);
  border: none;
  margin: 2.5rem 0;
}

.theme-editorial .markdown hr::before {
  content: none;
}

/* Links with confident underline */
.theme-editorial .markdown a {
  color: var(--th-accent);
  text-decoration: underline;
  text-decoration-color: rgba(26, 58, 92, 0.35);
  text-decoration-thickness: 1px;
  text-underline-offset: 2px;
  transition: all 0.15s ease;
}

.theme-editorial .markdown a:hover {
  text-decoration-color: var(--th-accent);
}

/* Inline code - subtle but clear */
.theme-editorial .markdown :not(pre) > code {
  background: var(--th-bg-subtle);
  color: var(--th-warm);
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius);
  padding: 0.15rem 0.4rem;
  font-size: 0.875em;
}

/* Lists - ensure markers are visible */
.theme-editorial .markdown ul {
  list-style-type: disc;
  padding-left: 1.5rem;
}

.theme-editorial .markdown ol {
  list-style-type: decimal;
  padding-left: 1.5rem;
}

.theme-editorial .markdown ul li::marker {
  color: var(--th-accent);
}

.theme-editorial .markdown ol li::marker {
  color: var(--th-accent);
  font-weight: 600;
}

/* Bold, confident title */
.theme-editorial .markdown h1 {
  font-family: var(--font-display);
  font-size: 2.5rem;
  font-weight: 400;
  letter-spacing: -0.02em;
  line-height: 1.2;
  color: var(--th-fg);
  margin-bottom: 1.5rem;
}

/* Strong section headers */
.theme-editorial .markdown h2 {
  font-family: var(--font-display);
  font-size: 1.625rem;
  font-weight: 400;
  letter-spacing: -0.01em;
  color: var(--th-accent);
  margin-top: 2.75rem;
  margin-bottom: 0.75rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--th-border);
}

/* Subsection with warmth */
.theme-editorial .markdown h3 {
  font-family: var(--font-display);
  font-size: 1.375rem;
  font-weight: 400;
  color: var(--th-warm);
  margin-top: 2rem;
}

.theme-editorial .markdown h4 {
  font-family: var(--font-body);
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--th-fg-muted);
  letter-spacing: 0.02em;
}

/* Bold stands out clearly */
.theme-editorial .markdown strong {
  font-weight: 700;
  color: var(--th-fg);
}

/* Italic with subtle color shift */
.theme-editorial .markdown em {
  font-style: italic;
  color: var(--th-muted-accent);
}

/* Clean, elegant blockquote */
.theme-editorial .markdown blockquote {
  background: var(--th-bg-subtle);
  border-left: 3px solid var(--th-accent);
  border-radius: var(--th-radius-lg);
  padding: 1.25rem 1.5rem;
  margin: 1.75rem 0;
  font-style: italic;
  color: var(--th-fg-muted);
}

.theme-editorial .markdown blockquote::before {
  content: none;
}

.theme-editorial .markdown blockquote p:last-child {
  margin-bottom: 0;
}

/* Simple, elegant rule */
.theme-editorial .markdown hr {
  height: 1px;
  background: var(--th-rule);
  border: none;
  margin: 2.5rem 0;
}

.theme-editorial .markdown hr::before {
  content: none;
}

/* Links with confident underline */
.theme-editorial .markdown a {
  color: var(--th-accent);
  text-decoration: underline;
  text-decoration-color: var(--th-accent-subtle);
  text-decoration-thickness: 1px;
  text-underline-offset: 3px;
  transition: all 0.15s ease;
}

.theme-editorial .markdown a:hover {
  color: var(--th-accent-secondary);
  text-decoration-color: var(--th-accent-secondary);
}

/* Inline code - subtle but clear */
.theme-editorial .markdown :not(pre) > code {
  background: var(--th-bg-subtle);
  color: var(--th-warm);
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius);
  padding: 0.15rem 0.4rem;
  font-size: 0.875em;
}

/* Lists - ensure markers are visible */
.theme-editorial .markdown ul {
  list-style-type: disc;
  padding-left: 1.5rem;
}

.theme-editorial .markdown ol {
  list-style-type: decimal;
  padding-left: 1.5rem;
}

.theme-editorial .markdown ul li::marker {
  color: var(--th-accent);
}

.theme-editorial .markdown ol li::marker {
  color: var(--th-accent);
  font-weight: 600;
}

/* Clean tables */
.theme-editorial .markdown table {
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius-lg);
  overflow: hidden;
}

.theme-editorial .markdown th,
.theme-editorial .markdown td {
  border-color: var(--th-border-subtle);
  padding: 0.75rem 1rem;
}

.theme-editorial .markdown th {
  background: var(--th-bg-subtle);
  color: var(--th-accent);
  font-family: var(--font-body);
  font-weight: 600;
  font-size: 0.8125rem;
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

.theme-editorial .markdown td {
  background: var(--th-bg-elevated);
}

/* Images with subtle treatment */
.theme-editorial .markdown img {
  border-radius: var(--th-radius-lg);
  border: 1px solid var(--th-border);
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
}

.theme-editorial.dark .markdown img {
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.25);
}

/* Highlight */
.theme-editorial .markdown mark {
  background: rgba(26, 58, 92, 0.12);
  color: var(--th-accent);
  padding: 0.1rem 0.3rem;
  border-radius: var(--th-radius);
}

.theme-editorial.dark .markdown mark {
  background: rgba(122, 162, 199, 0.15);
}

/* Strikethrough */
.theme-editorial .markdown del {
  color: var(--th-fg-subtle);
  text-decoration-color: var(--th-warm);
}

/* ─────────────────────────────────────────────────────────────────────────────
   MINIMAL: Swiss brutalism
   ───────────────────────────────────────────────────────────────────────────── */

.theme-minimal .markdown {
  font-size: 1.0625rem;
}

.theme-minimal .markdown h1 {
  font-size: 2.25rem;
  font-weight: 600;
  letter-spacing: -0.025em;
  line-height: 1.2;
  margin-bottom: 1.5rem;
}

.theme-minimal .markdown h2 {
  font-size: 1.5rem;
  font-weight: 600;
  letter-spacing: -0.02em;
  margin-top: 2.5rem;
}

.theme-minimal .markdown h3 {
  font-size: 1.25rem;
  font-weight: 600;
  letter-spacing: -0.01em;
}

.theme-minimal .markdown h4 {
  font-size: 1rem;
  font-weight: 600;
  color: var(--th-fg-muted);
}

.theme-minimal .markdown strong {
  font-weight: 600;
  color: var(--th-fg-bold);
}

.theme-minimal .markdown blockquote {
  border-left: 3px solid var(--th-border);
  background: var(--th-bg-subtle);
  padding: 1rem 1.25rem;
  margin: 1.5rem 0;
  font-style: italic;
  color: var(--th-fg-muted);
}

.theme-minimal .markdown hr {
  height: 1px;
  background: var(--th-border);
  margin: 3rem 0;
}

.theme-minimal .markdown a {
  color: var(--th-fg);
  text-decoration: underline;
  text-decoration-color: var(--th-fg-subtle);
  text-underline-offset: 2px;
  transition: text-decoration-color 0.15s;
}

.theme-minimal .markdown a:hover {
  text-decoration-color: var(--th-fg);
}

.theme-minimal .markdown :not(pre) > code {
  background: var(--th-bg-subtle);
  color: var(--th-fg);
  border: 1px solid var(--th-border);
  padding: 0.15rem 0.4rem;
}

.theme-minimal .markdown table {
  border: 1px solid var(--th-border);
}

.theme-minimal .markdown th {
  background: var(--th-bg-subtle);
  color: var(--th-fg);
  font-weight: 600;
}

/* ─────────────────────────────────────────────────────────────────────────────
   COZY: Fireside reading
   ───────────────────────────────────────────────────────────────────────────── */

.theme-cozy .markdown {
  font-size: 1.125rem;
}

/* Warm, inviting title */
.theme-cozy .markdown h1 {
  font-family: var(--font-display);
  font-size: 2.25rem;
  font-weight: 700;
  color: var(--th-fg);
  margin-bottom: 1.5rem;
  padding-bottom: 0.75rem;
  border-bottom: 2px solid var(--th-border);
}

.theme-cozy .markdown h2 {
  font-family: var(--font-display);
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--th-amber);
  margin-top: 2.5rem;
  margin-bottom: 0.75rem;
}

.theme-cozy .markdown h3 {
  font-family: var(--font-display);
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--th-rust);
  margin-top: 2rem;
}

.theme-cozy .markdown h4 {
  font-family: var(--font-display);
  font-size: 1rem;
  font-weight: 700;
  color: var(--th-fg-muted);
}

/* Bold with warm accent */
.theme-cozy .markdown strong {
  color: var(--th-accent);
  font-weight: 700;
}

/* Italic with subtle warmth */
.theme-cozy .markdown em {
  color: var(--th-gold);
  font-style: italic;
}

/* Warm, comfortable blockquote */
.theme-cozy .markdown blockquote {
  background: var(--th-bg-subtle);
  border-left: 3px solid var(--th-accent);
  border-radius: var(--th-radius-lg);
  padding: 1.25rem 1.5rem;
  margin: 1.5rem 0;
  font-style: italic;
  color: var(--th-fg-muted);
}

.theme-cozy .markdown blockquote::before {
  content: none;
}

.theme-cozy .markdown blockquote p:last-child {
  margin-bottom: 0;
}

/* Simple, elegant rule */
.theme-cozy .markdown hr {
  height: 1px;
  background: var(--th-rule);
  border: none;
  margin: 2.5rem 0;
}

/* Warm links */
.theme-cozy .markdown a {
  color: var(--th-accent);
  text-decoration: underline;
  text-decoration-color: var(--th-accent-subtle);
  text-underline-offset: 3px;
  transition: all 0.2s ease;
}

.theme-cozy .markdown a:hover {
  color: var(--th-rust);
  text-decoration-color: var(--th-rust);
}

/* Inline code with warm styling */
.theme-cozy .markdown :not(pre) > code {
  background: var(--th-bg-subtle);
  color: var(--th-rust);
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius);
  padding: 0.15rem 0.4rem;
  font-size: 0.9em;
}

/* Lists with warm markers */
.theme-cozy .markdown ul li::marker {
  color: var(--th-accent);
}

.theme-cozy .markdown ol li::marker {
  color: var(--th-amber);
  font-weight: 600;
}

/* Clean tables */
.theme-cozy .markdown table {
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius-lg);
  overflow: hidden;
}

.theme-cozy .markdown th,
.theme-cozy .markdown td {
  border-color: var(--th-border-subtle);
  padding: 0.75rem 1rem;
}

.theme-cozy .markdown th {
  background: var(--th-bg-subtle);
  color: var(--th-amber);
  font-weight: 700;
  font-size: 0.8125rem;
  letter-spacing: 0.03em;
  text-transform: uppercase;
}

.theme-cozy .markdown td {
  background: var(--th-bg-elevated);
}

/* Images with subtle warmth */
.theme-cozy .markdown img {
  border-radius: var(--th-radius-lg);
  border: 1px solid var(--th-border);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
}

.theme-cozy.dark .markdown img {
  box-shadow:
    0 4px 16px rgba(0, 0, 0, 0.25),
    0 0 30px rgba(224, 144, 80, 0.03);
}

/* Highlight with warm glow */
.theme-cozy .markdown mark {
  background: rgba(192, 160, 96, 0.25);
  color: var(--th-gold);
  padding: 0.1rem 0.3rem;
  border-radius: var(--th-radius);
}

/* Strikethrough */
.theme-cozy .markdown del {
  color: var(--th-fg-subtle);
  text-decoration-color: var(--th-rust);
}

/* ─────────────────────────────────────────────────────────────────────────────
   BOLD: Readable maximalism
   ───────────────────────────────────────────────────────────────────────────── */

.theme-bold .markdown {
  font-size: 1.125rem;
}

/* Gradient title - the one place we go all out */
.theme-bold .markdown h1 {
  font-family: var(--font-display);
  font-size: 2.5rem;
  font-weight: 700;
  letter-spacing: -0.02em;
  line-height: 1.2;
  background: var(--th-dropcap);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 1.5rem;
}

.theme-bold .markdown h2 {
  font-family: var(--font-display);
  font-size: 1.5rem;
  font-weight: 700;
  letter-spacing: -0.01em;
  color: var(--th-cyan);
  margin-top: 2.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid var(--th-border);
}

.theme-bold .markdown h3 {
  font-family: var(--font-display);
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--th-pink);
  margin-top: 2rem;
}

.theme-bold .markdown h4 {
  font-family: var(--font-ui);
  font-size: 1rem;
  font-weight: 600;
  color: var(--th-fg-muted);
}

/* Bold text pops with accent color */
.theme-bold .markdown strong {
  color: var(--th-accent);
  font-weight: 700;
}

/* Italic gets warm orange tint */
.theme-bold .markdown em {
  color: var(--th-orange);
  font-style: italic;
}

/* Blockquotes with gradient accent */
.theme-bold .markdown blockquote {
  background: var(--th-bg-subtle);
  border-left: 4px solid;
  border-image: linear-gradient(
      180deg,
      var(--th-accent) 0%,
      var(--th-pink) 100%
    )
    1;
  border-radius: 0 var(--th-radius-lg) var(--th-radius-lg) 0;
  padding: 1.25rem 1.5rem;
  margin: 1.5rem 0;
  font-style: italic;
  color: var(--th-fg-muted);
}

.theme-bold .markdown blockquote p:last-child {
  margin-bottom: 0;
}

/* Gradient rule - subtle glow */
.theme-bold .markdown hr {
  height: 2px;
  background: var(--th-rule);
  border: none;
  border-radius: 1px;
  margin: 2.5rem 0;
}

/* Links with animated underline */
.theme-bold .markdown a {
  color: var(--th-cyan);
  text-decoration: none;
  position: relative;
  transition: color 0.2s ease;
}

.theme-bold .markdown a::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 100%;
  height: 2px;
  background: linear-gradient(90deg, var(--th-cyan), var(--th-accent));
  transform: scaleX(0);
  transform-origin: right;
  transition: transform 0.3s ease;
}

.theme-bold .markdown a:hover {
  color: var(--th-accent);
}

.theme-bold .markdown a:hover::after {
  transform: scaleX(1);
  transform-origin: left;
}

/* Inline code with pink accent */
.theme-bold .markdown :not(pre) > code {
  background: var(--th-bg-elevated);
  color: var(--th-pink);
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius);
  padding: 0.15rem 0.4rem;
  font-size: 0.9em;
}

/* Lists with colorful markers */
.theme-bold .markdown ul {
  list-style: none;
  padding-left: 1.5rem;
}

.theme-bold .markdown ul li {
  position: relative;
}

.theme-bold .markdown ul li::before {
  content: '●';
  color: var(--th-accent);
  position: absolute;
  left: -1.25rem;
  font-size: 0.6em;
  top: 0.5em;
}

.theme-bold .markdown ol li::marker {
  color: var(--th-cyan);
  font-weight: 700;
}

/* Tables with subtle styling */
.theme-bold .markdown table {
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius-lg);
  overflow: hidden;
}

.theme-bold .markdown th,
.theme-bold .markdown td {
  border-color: var(--th-border-subtle);
  padding: 0.75rem 1rem;
}

.theme-bold .markdown th {
  background: var(--th-bg-subtle);
  color: var(--th-cyan);
  font-weight: 600;
  font-size: 0.8125rem;
  letter-spacing: 0.03em;
  text-transform: uppercase;
}

.theme-bold .markdown td {
  background: var(--th-bg-elevated);
}

/* Images with subtle glow */
.theme-bold .markdown img {
  border-radius: var(--th-radius-lg);
  border: 1px solid var(--th-border);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

.theme-bold.dark .markdown img {
  box-shadow:
    0 4px 20px rgba(0, 0, 0, 0.3),
    0 0 40px rgba(167, 139, 250, 0.05);
}

/* Highlight with accent */
.theme-bold .markdown mark {
  background: rgba(167, 139, 250, 0.25);
  color: var(--th-accent);
  padding: 0.1rem 0.3rem;
  border-radius: var(--th-radius);
}

/* Strikethrough */
.theme-bold .markdown del {
  color: var(--th-fg-subtle);
  text-decoration-color: var(--th-pink);
}

/* ─────────────────────────────────────────────────────────────────────────────
   RETRO: Academic paper reading optimized
   ───────────────────────────────────────────────────────────────────────────── */

.theme-retro .markdown {
  font-size: 1.125rem;
}

/* Clean, readable title with subtle retro flair */
.theme-retro .markdown h1 {
  font-family: var(--font-display);
  font-size: 1.875rem;
  font-weight: 700;
  letter-spacing: -0.01em;
  color: var(--th-cyan);
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 2px solid var(--th-border);
  position: relative;
}

/* Subtle terminal prompt accent */
.theme-retro .markdown h1::before {
  content: '>';
  color: var(--th-accent);
  margin-right: 0.5rem;
  font-weight: 400;
}

.theme-retro .markdown h2 {
  font-family: var(--font-display);
  font-size: 1.375rem;
  font-weight: 700;
  letter-spacing: 0;
  color: var(--th-yellow);
  margin-top: 2.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--th-border-subtle);
}

.theme-retro .markdown h2::before {
  content: '#';
  color: var(--th-accent);
  margin-right: 0.5rem;
  font-weight: 400;
}

.theme-retro .markdown h3 {
  font-family: var(--font-display);
  font-size: 1.125rem;
  font-weight: 700;
  color: var(--th-amber);
  margin-top: 2rem;
}

.theme-retro .markdown h3::before {
  content: '##';
  color: var(--th-fg-subtle);
  margin-right: 0.5rem;
  font-weight: 400;
  font-size: 0.875em;
}

.theme-retro .markdown h4 {
  font-family: var(--font-display);
  font-size: 1rem;
  font-weight: 700;
  color: var(--th-fg-muted);
}

.theme-retro .markdown h4::before {
  content: none;
}

/* Body text optimized for reading */
.theme-retro .markdown p {
  text-align: left;
  hyphens: auto;
}

/* Bold text stands out with accent color */
.theme-retro .markdown strong {
  color: var(--th-accent);
  font-weight: 700;
}

/* Italic gets a subtle warm tint */
.theme-retro .markdown em {
  color: var(--th-amber);
  font-style: italic;
}

/* Elegant blockquote for paper abstracts and quotes */
.theme-retro .markdown blockquote {
  background: var(--th-bg-subtle);
  border-left: 3px solid var(--th-cyan);
  border-radius: var(--th-radius-lg);
  padding: 1.25rem 1.5rem;
  margin: 1.5rem 0;
  font-style: italic;
  color: var(--th-fg-muted);
}

.theme-retro .markdown blockquote::before,
.theme-retro .markdown blockquote::after {
  content: none;
}

.theme-retro .markdown blockquote p:last-child {
  margin-bottom: 0;
}

/* Clean horizontal rule */
.theme-retro .markdown hr {
  height: 1px;
  background: var(--th-rule);
  border: none;
  margin: 2.5rem 0;
}

.theme-retro .markdown hr::before {
  content: none;
}

/* Readable links with cyan color */
.theme-retro .markdown a {
  color: var(--th-cyan);
  text-decoration: underline;
  text-decoration-color: rgba(110, 207, 207, 0.4);
  text-underline-offset: 3px;
  transition: all 0.2s ease;
}

.theme-retro .markdown a::before,
.theme-retro .markdown a::after {
  content: none;
}

.theme-retro .markdown a:hover {
  color: var(--th-accent);
  text-decoration-color: var(--th-accent);
}

/* Inline code with pink accent */
.theme-retro .markdown :not(pre) > code {
  background: var(--th-bg-subtle);
  color: var(--th-pink);
  border: 1px solid var(--th-border-subtle);
  border-radius: var(--th-radius);
  padding: 0.15rem 0.4rem;
  font-size: 0.9em;
}

/* Readable lists */
.theme-retro .markdown ul {
  list-style: none;
  padding-left: 1.5rem;
}

.theme-retro .markdown ul li {
  position: relative;
}

.theme-retro .markdown ul li::before {
  content: '•';
  color: var(--th-accent);
  position: absolute;
  left: -1rem;
}

.theme-retro .markdown ol {
  list-style: decimal;
  padding-left: 1.5rem;
  counter-reset: none;
}

.theme-retro .markdown ol li {
  counter-increment: none;
}

.theme-retro .markdown ol li::before {
  content: none;
}

.theme-retro .markdown ol li::marker {
  color: var(--th-yellow);
  font-family: var(--font-display);
  font-weight: 700;
}

/* Clean tables for data */
.theme-retro .markdown table {
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius-lg);
  overflow: hidden;
}

.theme-retro .markdown th,
.theme-retro .markdown td {
  border-color: var(--th-border-subtle);
  padding: 0.75rem 1rem;
}

.theme-retro .markdown th {
  background: var(--th-bg-subtle);
  color: var(--th-cyan);
  font-family: var(--font-display);
  font-weight: 700;
  font-size: 0.8125rem;
  letter-spacing: 0.03em;
  text-transform: uppercase;
}

.theme-retro .markdown td {
  background: var(--th-bg-elevated);
}

/* Highlight marks with yellow */
.theme-retro .markdown mark {
  background: rgba(207, 207, 110, 0.25);
  color: var(--th-yellow);
  padding: 0.1rem 0.3rem;
  border-radius: var(--th-radius);
}

/* Strikethrough with muted styling */
.theme-retro .markdown del {
  color: var(--th-fg-subtle);
  text-decoration-color: var(--th-pink);
}

/* Images with subtle frame */
.theme-retro .markdown img {
  border-radius: var(--th-radius-lg);
  border: 1px solid var(--th-border);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  filter: none;
}

/* Subtle green glow on images */
.theme-retro.dark .markdown img {
  box-shadow:
    0 4px 20px rgba(0, 0, 0, 0.3),
    0 0 40px rgba(126, 207, 126, 0.05);
}

/* ─────────────────────────────────────────────────────────────────────────────
   TOKYO: Neovim's Tokyo Night color scheme
   ───────────────────────────────────────────────────────────────────────────── */

.theme-tokyo .markdown {
  font-size: 1.0625rem;
}

/* Clean, modern title with subtle glow */
.theme-tokyo .markdown h1 {
  font-family: var(--font-display);
  font-size: 2.25rem;
  font-weight: 600;
  letter-spacing: -0.02em;
  line-height: 1.2;
  color: var(--th-cyan);
  margin-bottom: 1.5rem;
  text-shadow: 0 0 30px rgba(125, 207, 255, 0.15);
}

.theme-tokyo .markdown h2 {
  font-family: var(--font-display);
  font-size: 1.5rem;
  font-weight: 600;
  letter-spacing: -0.01em;
  color: var(--th-accent);
  margin-top: 2.5rem;
  margin-bottom: 0.75rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--th-border);
}

.theme-tokyo .markdown h3 {
  font-family: var(--font-display);
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--th-magenta);
  margin-top: 2rem;
}

.theme-tokyo .markdown h4 {
  font-family: var(--font-display);
  font-size: 1rem;
  font-weight: 600;
  color: var(--th-fg-muted);
  letter-spacing: 0.01em;
}

/* Bold text pops with accent color */
.theme-tokyo .markdown strong {
  color: var(--th-fg);
  font-weight: 600;
}

/* Italic gets subtle teal tint */
.theme-tokyo .markdown em {
  color: var(--th-teal);
  font-style: italic;
}

/* Blockquotes with accent border */
.theme-tokyo .markdown blockquote {
  background: var(--th-bg-subtle);
  border-left: 3px solid var(--th-accent);
  border-radius: 0 var(--th-radius-lg) var(--th-radius-lg) 0;
  padding: 1.25rem 1.5rem;
  margin: 1.5rem 0;
  font-style: italic;
  color: var(--th-fg-muted);
}

.theme-tokyo .markdown blockquote p:last-child {
  margin-bottom: 0;
}

/* Horizontal rule with accent gradient */
.theme-tokyo .markdown hr {
  height: 1px;
  background: var(--th-rule);
  border: none;
  margin: 2.5rem 0;
}

/* Links with cyan glow on hover */
.theme-tokyo .markdown a {
  color: var(--th-cyan);
  text-decoration: underline;
  text-decoration-color: rgba(125, 207, 255, 0.35);
  text-decoration-thickness: 1px;
  text-underline-offset: 3px;
  transition: all 0.2s ease;
}

.theme-tokyo .markdown a:hover {
  color: var(--th-accent);
  text-decoration-color: var(--th-accent);
  text-shadow: 0 0 12px rgba(122, 162, 247, 0.3);
}

/* Inline code with magenta accent */
.theme-tokyo .markdown :not(pre) > code {
  background: var(--th-bg-elevated);
  color: var(--th-magenta);
  border: 1px solid var(--th-border-subtle);
  border-radius: var(--th-radius);
  padding: 0.15rem 0.4rem;
  font-size: 0.875em;
}

/* Lists with colorful markers */
.theme-tokyo .markdown ul {
  list-style-type: disc;
  padding-left: 1.5rem;
}

.theme-tokyo .markdown ul li::marker {
  color: var(--th-cyan);
}

.theme-tokyo .markdown ol {
  list-style-type: decimal;
  padding-left: 1.5rem;
}

.theme-tokyo .markdown ol li::marker {
  color: var(--th-orange);
  font-weight: 600;
}

/* Tables with subtle styling */
.theme-tokyo .markdown table {
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius-lg);
  overflow: hidden;
}

.theme-tokyo .markdown th,
.theme-tokyo .markdown td {
  border-color: var(--th-border-subtle);
  padding: 0.75rem 1rem;
}

.theme-tokyo .markdown th {
  background: var(--th-bg-subtle);
  color: var(--th-cyan);
  font-weight: 600;
  font-size: 0.8125rem;
  letter-spacing: 0.03em;
  text-transform: uppercase;
}

.theme-tokyo .markdown td {
  background: var(--th-bg-elevated);
}

.theme-tokyo .markdown tbody tr:hover td {
  background: var(--th-bg-subtle);
}

/* Images with subtle blue glow */
.theme-tokyo .markdown img {
  border-radius: var(--th-radius-lg);
  border: 1px solid var(--th-border);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

.theme-tokyo.dark .markdown img {
  box-shadow:
    0 4px 20px rgba(0, 0, 0, 0.3),
    0 0 40px rgba(122, 162, 247, 0.08);
}

/* Highlight with yellow */
.theme-tokyo .markdown mark {
  background: rgba(224, 175, 104, 0.25);
  color: var(--th-yellow);
  padding: 0.1rem 0.3rem;
  border-radius: var(--th-radius);
}

/* Strikethrough */
.theme-tokyo .markdown del {
  color: var(--th-fg-subtle);
  text-decoration-color: var(--th-red);
}

/* ═══════════════════════════════════════════════════════════════════════════
   CODE BLOCKS
   ═══════════════════════════════════════════════════════════════════════════ */

.code-block {
  font-family: var(--font-mono);
  border-radius: var(--th-radius-lg);
  overflow: hidden;
}

.code-block pre {
  margin: 0;
  counter-reset: line;
}

.code-block code {
  font-family: inherit;
  font-size: 0.875rem;
  line-height: 1.7;
}

.code-block .shiki-wrapper {
  background: var(--th-bg-subtle);
}

/* Theme-specific code block styling */
.theme-editorial .code-block {
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius-lg);
  background: var(--th-bg-subtle);
}

.theme-minimal .code-block {
  border: 1px solid var(--th-border);
  background: var(--th-bg-subtle);
}

.theme-cozy .code-block {
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius-lg);
  background: var(--th-bg-subtle);
}

.theme-bold .code-block {
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius-lg);
  background: var(--th-bg-subtle);
}

.theme-retro .code-block {
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius-lg);
  background: var(--th-bg-subtle);
  overflow: hidden;
}

.theme-tokyo .code-block {
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius-lg);
  background: var(--th-bg-subtle);
}

/* Clean header for code blocks */
.theme-retro .code-block::before {
  content: none;
}

.theme-retro .code-block::after {
  content: none;
}

/* ═══════════════════════════════════════════════════════════════════════════
   UI COMPONENTS
   ═══════════════════════════════════════════════════════════════════════════ */

/* Editor container */
.editor-container {
  background: var(--th-bg-elevated);
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius-lg);
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.06);
  transition:
    box-shadow 0.3s ease,
    border-color 0.3s ease;
}

.editor-container:focus-within {
  border-color: var(--th-accent);
  box-shadow:
    0 4px 32px rgba(0, 0, 0, 0.1),
    0 0 0 3px var(--th-accent-subtle);
}

/* Theme-specific editor styling */
.theme-editorial .editor-container {
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius-lg);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.04);
}

.theme-editorial .editor-container:focus-within {
  border-color: var(--th-accent);
  box-shadow:
    0 1px 12px rgba(0, 0, 0, 0.06),
    0 0 0 2px var(--th-accent-subtle);
}

.theme-minimal .editor-container {
  border: 1px solid var(--th-border);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
}

.theme-minimal .editor-container:focus-within {
  border-color: var(--th-fg-subtle);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

.theme-cozy .editor-container {
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius-lg);
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
}

.theme-cozy .editor-container:focus-within {
  border-color: var(--th-accent);
  box-shadow:
    0 2px 16px rgba(0, 0, 0, 0.08),
    0 0 0 2px var(--th-accent-subtle);
}

.theme-bold .editor-container {
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius-lg);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
}

.theme-bold .editor-container:focus-within {
  border-color: var(--th-accent);
  box-shadow:
    0 4px 24px rgba(0, 0, 0, 0.2),
    0 0 0 2px var(--th-accent-subtle);
}

.theme-retro .editor-container {
  border: 1px solid var(--th-border);
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
  border-radius: var(--th-radius-lg);
  position: relative;
}

.theme-retro .editor-container:focus-within {
  border-color: var(--th-accent);
  box-shadow:
    0 2px 16px rgba(0, 0, 0, 0.15),
    0 0 0 2px var(--th-accent-subtle);
}

.theme-retro .editor-container::before {
  content: none;
}

.theme-tokyo .editor-container {
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius-lg);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
}

.theme-tokyo .editor-container:focus-within {
  border-color: var(--th-accent);
  box-shadow:
    0 4px 24px rgba(0, 0, 0, 0.2),
    0 0 0 2px var(--th-accent-subtle),
    0 0 40px rgba(122, 162, 247, 0.1);
}

/* Textarea / Editor */
.editor-textarea {
  font-family: var(--font-mono);
  background: transparent;
  color: var(--th-fg);
  caret-color: var(--th-accent);
}

.editor-textarea::placeholder {
  color: var(--th-fg-subtle);
}

.theme-retro .editor-textarea {
  text-shadow: var(--th-crt-glow);
}

/* Command Palette */
.command-palette {
  background: var(--th-bg-elevated);
  border: 1px solid var(--th-border);
  border-radius: var(--th-radius-lg);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
}

.theme-minimal .command-palette {
  border: 1px solid var(--th-border);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
}

.theme-cozy .command-palette {
  box-shadow:
    6px 6px 0 var(--th-border),
    12px 12px 40px rgba(0, 0, 0, 0.15);
}

.theme-bold .command-palette {
  border: 2px solid var(--th-border);
  box-shadow: 0 20px 80px var(--th-accent-glow);
}

.theme-retro .command-palette {
  border: 2px solid var(--th-accent);
  box-shadow: none;
  border-radius: 0;
}

.theme-tokyo .command-palette {
  border: 1px solid var(--th-border);
  box-shadow:
    0 20px 60px rgba(0, 0, 0, 0.3),
    0 0 60px rgba(122, 162, 247, 0.1);
}

/* Buttons */
.btn-primary {
  background: var(--th-accent);
  color: var(--th-bg);
  border-radius: var(--th-radius);
  font-family: var(--font-ui);
  font-weight: 500;
  transition:
    transform 0.1s ease,
    box-shadow 0.2s ease;
}

.btn-primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px var(--th-accent-glow);
}

.btn-primary:active {
  transform: translateY(0);
}

.theme-minimal .btn-primary {
  background: var(--th-fg);
  color: var(--th-bg);
}

.theme-minimal .btn-primary:hover {
  background: var(--th-fg-muted);
}

.theme-cozy .btn-primary {
  box-shadow: 3px 3px 0 var(--th-border);
}

.theme-cozy .btn-primary:hover {
  box-shadow: 5px 5px 0 var(--th-border);
  transform: translate(-2px, -2px);
}

.theme-bold .btn-primary {
  background: linear-gradient(
    135deg,
    var(--th-accent) 0%,
    var(--th-accent-secondary, var(--th-accent)) 100%
  );
  box-shadow: 0 4px 20px var(--th-accent-glow);
}

.theme-bold .btn-primary:hover {
  box-shadow: 0 6px 30px var(--th-accent-glow);
}

.theme-retro .btn-primary {
  background: transparent;
  color: var(--th-accent);
  border: 2px solid var(--th-accent);
  border-radius: 0;
  text-transform: uppercase;
  font-family: var(--font-ui);
  letter-spacing: 0.05em;
}

.theme-retro .btn-primary:hover {
  background: var(--th-accent);
  color: var(--th-bg);
  transform: none;
  box-shadow: 0 0 10px var(--th-accent-glow);
}

.theme-tokyo .btn-primary {
  background: var(--th-accent);
  color: var(--th-bg-subtle);
  box-shadow: 0 2px 12px var(--th-accent-glow);
}

.theme-tokyo .btn-primary:hover {
  box-shadow:
    0 4px 20px var(--th-accent-glow),
    0 0 30px rgba(122, 162, 247, 0.15);
}

/* ═══════════════════════════════════════════════════════════════════════════
   ANIMATIONS & TRANSITIONS
   ═══════════════════════════════════════════════════════════════════════════ */

/* Smooth theme transitions */
* {
  transition-property:
    background-color, border-color, color, fill, stroke, box-shadow;
  transition-duration: 0.2s;
  transition-timing-function: ease;
}

/* Disable transitions on theme change to prevent flash */
.theme-switching * {
  transition: none !important;
}

/* Page load animation */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.4s ease-out forwards;
}

/* Stagger children animation */
.stagger-children > * {
  opacity: 0;
  animation: fadeIn 0.4s ease-out forwards;
}

.stagger-children > *:nth-child(1) {
  animation-delay: 0.05s;
}
.stagger-children > *:nth-child(2) {
  animation-delay: 0.1s;
}
.stagger-children > *:nth-child(3) {
  animation-delay: 0.15s;
}
.stagger-children > *:nth-child(4) {
  animation-delay: 0.2s;
}
.stagger-children > *:nth-child(5) {
  animation-delay: 0.25s;
}
